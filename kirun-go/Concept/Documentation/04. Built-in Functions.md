# Built-in Functions in KIRun

## Overview

KIRun provides a comprehensive set of built-in functions organized into logical namespaces. These functions form the core functionality of the language and cover common operations for data manipulation, control flow, mathematical calculations, and system operations.

All built-in functions follow KIRun's event-driven architecture, generating events that can trigger subsequent operations. Every function generates at least an `output` event, and many generate additional specialized events.

## Function Organization

Built-in functions are organized into the following namespaces:

- **System**: Basic System functions (If, Print, Wait, GenerateEvent)
- **System.Array**: Array manipulation and operations
- **System.Context**: Variable management in execution context
- **System.Date**: Date and time operations
- **System.JSON**: JSON parsing and serialization
- **System.Loop**: Iteration and looping constructs
- **System.Math**: Mathematical operations
- **System.Object**: Object manipulation
- **System.String**: String manipulation

## Parameter Types

Built-in functions use three parameter types:

- **EXPRESSION**: Dynamic expressions evaluated at runtime
- **CONSTANT**: Static values provided at compile time
- **VALUE**: Literal values (deprecated, use EXPRESSION)

## System.Array Functions

### Array Manipulation

#### System.Array.AddFirst

Adds an element to the beginning of an array.

**Parameters:**

- `element` (EXPRESSION): Element to add (any type)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

#### System.Array.InsertLast

Adds an element to the end of an array.

**Parameters:**

- `element` (EXPRESSION): Element to add (any type)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

**Usage Example:**

```kirun
insert: System.Array.InsertLast(source = Context.a, element = Steps.loop.iteration.index)
```

#### System.Array.Insert

Inserts an element at a specific position in an array.

**Parameters:**

- `element` (EXPRESSION): Element to insert (any type)
- `offset` (EXPRESSION): Position to insert at (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

#### System.Array.Delete

Removes first occurrence of an element from an array.

**Parameters:**

- `element` (EXPRESSION): Element to remove (any type)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

#### System.Array.DeleteFirst

Removes the first element from an array.

**Parameters:**

- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

#### System.Array.DeleteLast

Removes the last element from an array.

**Parameters:**

- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns modified array in `result`

#### System.Array.DeleteFrom

Removes elements from a specific position and length.

**Parameters:**

- `length` (EXPRESSION): Number of elements to remove (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns modified array in `result`

### Array Search and Analysis

#### System.Array.IndexOf

Finds the index of first occurrence of an element.

**Parameters:**

- `elementObject` (EXPRESSION): Element to search for (any type)
- `findFrom` (EXPRESSION): Starting search position (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.Array.IndexOfArray

Finds the index of first occurrence of a sub-array.

**Parameters:**

- `findFrom` (EXPRESSION): Starting search position (integer)
- `secondSource` (EXPRESSION): Sub-array to search for
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.Array.LastIndexOf

Finds the index of last occurrence of an element.

**Parameters:**

- `elementObject` (EXPRESSION): Element to search for (any type)
- `findFrom` (EXPRESSION): Starting search position (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.Array.LastIndexOfArray

Finds the index of last occurrence of a sub-array.

**Parameters:**

- `findFrom` (EXPRESSION): Starting search position (integer)
- `secondSource` (EXPRESSION): Sub-array to search for
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.Array.BinarySearch

Performs binary search on a sorted array.

**Parameters:**

- `findPrimitive` (EXPRESSION): Element to search for (numeric or string)
- `length` (EXPRESSION): Length to search (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns index in `index` (integer)

#### System.Array.Frequency

Counts occurrences of an element in an array.

**Parameters:**

- `element` (EXPRESSION): Element to count (any type)
- `length` (EXPRESSION): Length to search (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns count in `result` (integer)

### Array Transformation

#### System.Array.Sort

Sorts an array in ascending or descending order.

**Parameters:**

- `ascending` (EXPRESSION): Sort order (boolean)
- `findFrom` (EXPRESSION): Starting position (integer)
- `keyPath` (EXPRESSION): Path for object sorting (string)
- `length` (EXPRESSION): Length to sort (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns sorted array in `result`

#### System.Array.Reverse

Reverses elements in an array.

**Parameters:**

- `length` (EXPRESSION): Length to reverse (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns reversed array in `result`

#### System.Array.Shuffle

Randomly shuffles array elements.

**Parameters:**

- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns shuffled array in `result`

#### System.Array.Rotate

Rotates array elements by specified positions.

**Parameters:**

- `rotateLength` (EXPRESSION): Number of positions to rotate (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns rotated array in `result`

#### System.Array.RemoveDuplicates

Removes duplicate elements from an array.

**Parameters:**

- `length` (EXPRESSION): Length to process (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns deduplicated array in `result`

### Array Utility Functions

#### System.Array.SubArray

Extracts a portion of an array.

**Parameters:**

- `findFrom` (EXPRESSION): Starting position (integer)
- `length` (EXPRESSION): Length to extract (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns sub-array in `result`

#### System.Array.Copy

Creates a copy of an array.

**Parameters:**

- `deepCopy` (EXPRESSION): Whether to perform deep copy (boolean)
- `length` (EXPRESSION): Length to copy (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns copied array in `result`

#### System.Array.Concatenate

Combines two arrays.

**Parameters:**

- `secondSource` (EXPRESSION): Second array to concatenate
- `source` (EXPRESSION): First array

**Events:**

- `output`: Returns combined array in `result`

#### System.Array.Join

Joins array elements into a string.

**Parameters:**

- `delimiter` (EXPRESSION): Separator string
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns joined string in `result`

#### System.Array.Fill

Fills array positions with a specific value.

**Parameters:**

- `element` (EXPRESSION): Value to fill with (any type)
- `length` (EXPRESSION): Length to fill (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position (integer)

**Events:**

- `output`: Returns filled array in `result`

#### System.Array.Min

Finds the minimum value in an array.

**Parameters:**

- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns minimum value in `result`

#### System.Array.Max

Finds the maximum value in an array.

**Parameters:**

- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns maximum value in `result`

### Array Comparison Functions

#### System.Array.Equals

Compares two arrays for equality.

**Parameters:**

- `find` (EXPRESSION): Array to compare with
- `findFrom` (EXPRESSION): Starting position in comparison array (integer)
- `length` (EXPRESSION): Length to compare (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position in source array (integer)

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Array.Compare

Compares two arrays lexicographically.

**Parameters:**

- `find` (EXPRESSION): Array to compare with
- `findFrom` (EXPRESSION): Starting position in comparison array (integer)
- `length` (EXPRESSION): Length to compare (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position in source array (integer)

**Events:**

- `output`: Returns comparison result in `result` (integer: -1, 0, or 1)

#### System.Array.Disjoint

Finds elements that are in source array but not in second array.

**Parameters:**

- `length` (EXPRESSION): Length to process (integer)
- `secondSource` (EXPRESSION): Second array to compare with
- `secondSrcFrom` (EXPRESSION): Starting position in second array (integer)
- `source` (EXPRESSION): Source array
- `srcFrom` (EXPRESSION): Starting position in source array (integer)

**Events:**

- `output`: Returns disjoint elements in `result` (array)

#### System.Array.MisMatch

Finds the first position where two arrays differ.

**Parameters:**

- `findFrom` (EXPRESSION): Starting position in comparison array (integer)
- `length` (EXPRESSION): Length to compare (integer)
- `secondSource` (EXPRESSION): Second array to compare with
- `secondSrcFrom` (EXPRESSION): Starting position in second array (integer)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns mismatch position in `result` (integer, -1 if no mismatch)

### Array Conversion Functions

#### System.Array.ArrayToObjects

Converts array elements to objects using key-value mapping.

**Parameters:**

- `ignoreDuplicateKeys` (EXPRESSION): Whether to ignore duplicate keys (boolean)
- `ignoreNullKeys` (EXPRESSION): Whether to ignore null keys (boolean)
- `ignoreNullValues` (EXPRESSION): Whether to ignore null values (boolean)
- `keyPath` (EXPRESSION): Path for extracting keys (string)
- `source` (EXPRESSION): Source array
- `valuePath` (EXPRESSION): Path for extracting values (string)

**Events:**

- `output`: Returns converted result

#### System.Array.ArrayToArrayOfObjects

Converts array elements to array of objects.

**Parameters:**

- `keyName` (EXPRESSION): Key name for objects (string)
- `source` (EXPRESSION): Source array

**Events:**

- `output`: Returns array of objects in `result`

## System.Context Functions

### Variable Management

#### System.Context.Create

Creates a new variable in the execution context.

**Parameters:**

- `name` (CONSTANT): Variable name (string)
- `schema` (CONSTANT): Variable schema (object)

**Events:**

- `output`: Variable created successfully

**Usage Example:**

```kirun
create: System.Context.Create(name = "a", schema = (ARRAY OF INTEGER) WITH DEFAULT VALUE [])
```

#### System.Context.Set

Updates the value of an existing context variable.

**Parameters:**

- `name` (EXPRESSION): Variable name (string)
- `value` (EXPRESSION): New value (any type)

**Events:**

- `output`: Variable updated successfully

**Usage Example:**

```kirun
: System.Context.Set(name = "Context.a", value = Steps.trueInsert.output.result)
```

#### System.Context.Get

Retrieves the value of a context variable.

**Parameters:**

- `name` (CONSTANT): Variable name (string)

**Events:**

- `output`: Returns variable value in `value`

## System.Date Functions

### Date Creation and Parsing

#### System.Date.GetCurrentTimestamp

Gets the current timestamp.

**Parameters:** None

**Events:**

- `output`: Returns current timestamp in `isotimestamp`

#### System.Date.FromDateString

Parses a date string into a timestamp.

**Parameters:**

- `format` (EXPRESSION): Date format pattern (string)
- `timestampString` (EXPRESSION): Date string to parse (string)

**Events:**

- `output`: Returns parsed timestamp in `isotimestamp`

#### System.Date.EpochSecondsToTimestamp

Converts epoch seconds to timestamp.

**Parameters:**

- `epochSeconds` (EXPRESSION): Epoch seconds (integer/long/string)

**Events:**

- `output`: Returns timestamp in `isotimestamp`

#### System.Date.EpochMillisecondsToTimestamp

Converts epoch milliseconds to timestamp.

**Parameters:**

- `epochMilliseconds` (EXPRESSION): Epoch milliseconds (integer/long/string)

**Events:**

- `output`: Returns timestamp in `isotimestamp`

### Date Arithmetic

#### System.Date.AddTime

Adds time units to a timestamp.

**Parameters:**

- `days` (EXPRESSION): Days to add (numeric)
- `hours` (EXPRESSION): Hours to add (numeric)
- `isoTimeStamp` (EXPRESSION): Source timestamp
- `milliseconds` (EXPRESSION): Milliseconds to add (numeric)
- `minutes` (EXPRESSION): Minutes to add (numeric)
- `months` (EXPRESSION): Months to add (numeric)
- `seconds` (EXPRESSION): Seconds to add (numeric)
- `years` (EXPRESSION): Years to add (numeric)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SubtractTime

Subtracts time units from a timestamp.

**Parameters:**

- `days` (EXPRESSION): Days to subtract (numeric)
- `hours` (EXPRESSION): Hours to subtract (numeric)
- `isoTimeStamp` (EXPRESSION): Source timestamp
- `milliseconds` (EXPRESSION): Milliseconds to subtract (numeric)
- `minutes` (EXPRESSION): Minutes to subtract (numeric)
- `months` (EXPRESSION): Months to subtract (numeric)
- `seconds` (EXPRESSION): Seconds to subtract (numeric)
- `years` (EXPRESSION): Years to subtract (numeric)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

### Date Extraction

#### System.Date.GetYear

Extracts year from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns year in `result` (integer)

#### System.Date.GetMonth

Extracts month from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns month in `result` (integer)

#### System.Date.GetDay

Extracts day from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns day in `result` (integer)

#### System.Date.GetHours

Extracts hours from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns hours in `result` (integer)

#### System.Date.GetMinutes

Extracts minutes from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns minutes in `result` (integer)

#### System.Date.GetSeconds

Extracts seconds from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns seconds in `result` (integer)

#### System.Date.GetMilliseconds

Extracts milliseconds from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns milliseconds in `result` (integer)

#### System.Date.GetDayOfWeek

Gets the day of the week (0=Sunday, 1=Monday, etc.).

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns day of week in `result` (integer)

#### System.Date.GetDaysInMonth

Gets the number of days in the month.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns days in month in `result` (integer)

#### System.Date.GetDaysInYear

Gets the number of days in the year.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns days in year in `result` (integer)

### Date Comparison

#### System.Date.IsAfter

Checks if one timestamp is after another.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Date.IsBefore

Checks if one timestamp is before another.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Date.IsSame

Checks if two timestamps are the same.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Date.IsSameOrAfter

Checks if first timestamp is same or after the second.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Date.IsSameOrBefore

Checks if first timestamp is same or before the second.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.Date.IsBetween

Checks if timestamp is between two other timestamps.

**Parameters:**

- `checkTimestamp` (EXPRESSION): Timestamp to check
- `endTimestamp` (EXPRESSION): End boundary timestamp
- `startTimestamp` (EXPRESSION): Start boundary timestamp

**Events:**

- `output`: Returns result in `result` (boolean)

### Date Manipulation and Setters

#### System.Date.SetYear

Sets the year component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Year to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetMonth

Sets the month component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Month to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetDay

Sets the day component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Day to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetHours

Sets the hours component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Hours to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetMinutes

Sets the minutes component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Minutes to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetSeconds

Sets the seconds component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Seconds to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

#### System.Date.SetMilliseconds

Sets the milliseconds component of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `number` (EXPRESSION): Milliseconds to set (integer)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

### Timezone Functions

#### System.Date.GetTimeZoneName

Gets the timezone name from a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns timezone name in `result` (string)

#### System.Date.GetTimeZoneOffset

Gets the timezone offset in minutes.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns offset in minutes in `result` (integer)

#### System.Date.GetTimeZoneOffsetLong

Gets the timezone offset in long format.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns long format offset in `result` (string)

#### System.Date.GetTimeZoneOffsetShort

Gets the timezone offset in short format.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns short format offset in `result` (string)

#### System.Date.SetTimeZone

Sets the timezone of a timestamp.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `timezone` (EXPRESSION): Timezone to set (string)

**Events:**

- `output`: Returns modified timestamp in `isotimestamp`

### Date Utility Functions

#### System.Date.IsValidISODate

Validates if a string is a valid ISO date.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Date string to validate (string)

**Events:**

- `output`: Returns validation result in `result` (boolean)

#### System.Date.IsInLeapYear

Checks if the timestamp is in a leap year.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.Date.IsInDST

Checks if the timestamp is in daylight saving time.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.Date.StartOf

Gets the start of a time unit (day, month, year, etc.).

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `unit` (EXPRESSION): Time unit (string)

**Events:**

- `output`: Returns start timestamp in `isotimestamp`

#### System.Date.EndOf

Gets the end of a time unit (day, month, year, etc.).

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp
- `unit` (EXPRESSION): Time unit (string)

**Events:**

- `output`: Returns end timestamp in `isotimestamp`

#### System.Date.FirstOf

Gets the first occurrence of a time unit.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns first occurrence in `isotimestamp`

#### System.Date.LastOf

Gets the last occurrence of a time unit.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns last occurrence in `isotimestamp`

### Date Conversion and Formatting

#### System.Date.ToDateString

Formats timestamp as a date string.

**Parameters:**

- `format` (EXPRESSION): Format pattern (string)
- `isoTimeStamp` (EXPRESSION): Source timestamp
- `locale` (EXPRESSION): Locale for formatting (string)

**Events:**

- `output`: Returns formatted string in `result`

#### System.Date.FromNow

Gets relative time description from now.

**Parameters:**

- `base` (EXPRESSION): Base timestamp for comparison
- `format` (EXPRESSION): Format pattern (string)
- `isoTimeStamp` (EXPRESSION): Source timestamp
- `locale` (EXPRESSION): Locale for formatting (string)
- `round` (EXPRESSION): Whether to round values (boolean)
- `unit` (EXPRESSION): Time unit for calculation

**Events:**

- `output`: Returns relative time string in `result`

#### System.Date.TimestampToEpochSeconds

Converts timestamp to epoch seconds.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns epoch seconds in `result` (long)

#### System.Date.TimestampToEpochMilliseconds

Converts timestamp to epoch milliseconds.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns epoch milliseconds in `result` (long)

#### System.Date.TimeAsArray

Converts timestamp to array representation.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns time array in `array`

#### System.Date.TimeAsObject

Converts timestamp to object representation.

**Parameters:**

- `isoTimeStamp` (EXPRESSION): Source timestamp

**Events:**

- `output`: Returns time object in `object`

#### System.Date.Difference

Calculates difference between two timestamps.

**Parameters:**

- `isoTimeStamp1` (EXPRESSION): First timestamp
- `isoTimeStamp2` (EXPRESSION): Second timestamp
- `unit` (EXPRESSION): Unit for difference calculation

**Events:**

- `output`: Returns difference in `result`

#### System.Date.GetNames

Gets names for date/time units in a specific locale.

**Parameters:**

- `locale` (EXPRESSION): Locale for names (string)
- `unit` (EXPRESSION): Unit type (string)

**Events:**

- `names`: Returns array of names in `names`

## System Functions

### Core System Functions

#### System.If

Provides conditional branching logic.

**Parameters:**

- `condition` (EXPRESSION): Condition to evaluate (any type, truthy/falsy)

**Events:**

- `true`: Fired when condition is true
- `false`: Fired when condition is false
- `output`: Always fired after evaluation

**Usage Example:**

```kirun
if: System.If(condition = Steps.loop.iteration.index < 2)
    true
        trueInsert: System.Array.InsertLast(source = Context.a, element = Steps.loop.iteration.index)
    false
        falseInsert: System.Array.InsertLast(source = Context.a, element = Context.a[index - 1] + Context.a[index - 2])
```

#### System.GenerateEvent

Generates a custom event with specified parameters.

**Parameters:**

- `eventName` (EXPRESSION): Name of the event to generate (string)
- `results` (EXPRESSION): Event parameters (object)

**Events:**

- `output`: Event generated successfully

**Usage Example:**

```kirun
: System.GenerateEvent(results = {
    "name": "result",
    "value": Context.a
})
```

#### System.Print

Outputs values to a stream.

**Parameters:**

- `stream` (EXPRESSION): Output stream name (string)
- `values` (EXPRESSION): Values to output (any type, variadic)

**Events:**

- `output`: Output operation completed

#### System.Wait

Pauses execution for specified time.

**Parameters:**

- `millis` (EXPRESSION): Milliseconds to wait (numeric)

**Events:**

- `output`: Wait completed

## System.JSON Functions

#### System.JSON.JSONParse

Parses a JSON string into an object.

**Parameters:**

- `source` (EXPRESSION): JSON string to parse (string)

**Events:**

- `output`: Returns parsed object in `value`
- `error`: Fired on parse error, returns error message in `errormessage`

#### System.JSON.JSONStringify

Converts an object to JSON string.

**Parameters:**

- `source` (EXPRESSION): Object to stringify (any type)

**Events:**

- `output`: Returns JSON string in `value`

## System.Loop Functions

### Loop Controls

#### System.Loop.RangeLoop

Iterates over a numeric range.

**Parameters:**

- `from` (EXPRESSION): Starting value (numeric, default 0)
- `step` (EXPRESSION): Step increment (numeric, default 1)
- `to` (EXPRESSION): Ending value (numeric)

**Events:**

- `iteration`: Fired for each iteration with `index` parameter
- `output`: Fired when loop completes with final `value`

**Usage Example:**

```kirun
loop: System.Loop.RangeLoop(to = Arguments.n) AFTER Steps.create.output
    iteration
        if: System.If(condition = Steps.loop.iteration.index < 2)
```

#### System.Loop.CountLoop

Iterates a specified number of times.

**Parameters:**

- `count` (EXPRESSION): Number of iterations (integer)

**Events:**

- `iteration`: Fired for each iteration with `index` parameter
- `output`: Fired when loop completes

#### System.Loop.ForEachLoop

Iterates over array elements.

**Parameters:**

- `source` (EXPRESSION): Array to iterate over

**Events:**

- `iteration`: Fired for each element with `each` (element) and `index` parameters
- `output`: Fired when loop completes

#### System.Loop.Break

Breaks out of a loop.

**Parameters:**

- `stepName` (EXPRESSION): Name of the loop step to break (string)

**Events:**

- `output`: Break executed successfully

## System.Math Functions

### Basic Arithmetic

#### System.Math.Add

Adds multiple numeric values.

**Parameters:**

- `value` (EXPRESSION): Values to add (numeric, variadic)

**Events:**

- `output`: Returns sum in `value`

#### System.Math.Absolute

Returns absolute value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns absolute value in `value`

#### System.Math.Maximum

Returns maximum of multiple values.

**Parameters:**

- `value` (EXPRESSION): Values to compare (numeric, variadic)

**Events:**

- `output`: Returns maximum in `value`

#### System.Math.Minimum

Returns minimum of multiple values.

**Parameters:**

- `value` (EXPRESSION): Values to compare (numeric, variadic)

**Events:**

- `output`: Returns minimum in `value`

#### System.Math.Power

Raises a number to a power.

**Parameters:**

- `value1` (EXPRESSION): Base value (numeric)
- `value2` (EXPRESSION): Exponent (numeric)

**Events:**

- `output`: Returns result in `value`

### Trigonometric Functions

#### System.Math.Sine

Calculates sine of an angle.

**Parameters:**

- `value` (EXPRESSION): Angle in radians (numeric)

**Events:**

- `output`: Returns sine value in `value`

#### System.Math.Cosine

Calculates cosine of an angle.

**Parameters:**

- `value` (EXPRESSION): Angle in radians (numeric)

**Events:**

- `output`: Returns cosine value in `value`

#### System.Math.Tangent

Calculates tangent of an angle.

**Parameters:**

- `value` (EXPRESSION): Angle in radians (numeric)

**Events:**

- `output`: Returns tangent value in `value`

#### System.Math.ArcSine

Calculates arcsine (inverse sine) of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns arcsine value in radians in `value`

#### System.Math.ArcCosine

Calculates arccosine (inverse cosine) of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns arccosine value in radians in `value`

#### System.Math.ArcTangent

Calculates arctangent (inverse tangent) of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns arctangent value in radians in `value`

#### System.Math.ArcTangent2

Calculates arctangent of y/x using both coordinates.

**Parameters:**

- `value1` (EXPRESSION): Y coordinate (numeric)
- `value2` (EXPRESSION): X coordinate (numeric)

**Events:**

- `output`: Returns arctangent value in radians in `value`

### Hyperbolic Functions

#### System.Math.HyperbolicSine

Calculates hyperbolic sine of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns hyperbolic sine in `value`

#### System.Math.HyperbolicCosine

Calculates hyperbolic cosine of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns hyperbolic cosine in `value`

#### System.Math.HyperbolicTangent

Calculates hyperbolic tangent of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns hyperbolic tangent in `value`

### Logarithmic and Exponential Functions

#### System.Math.Exponential

Calculates e raised to the power of a value.

**Parameters:**

- `value` (EXPRESSION): Exponent value (numeric)

**Events:**

- `output`: Returns exponential result in `value`

#### System.Math.ExponentialMinus1

Calculates e^x - 1 accurately for small values of x.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns (e^x - 1) in `value`

#### System.Math.LogNatural

Calculates natural logarithm (base e).

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns natural logarithm in `value`

#### System.Math.Log10

Calculates base-10 logarithm.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns base-10 logarithm in `value`

### Root and Power Functions

#### System.Math.SquareRoot

Calculates square root of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns square root in `value`

#### System.Math.CubeRoot

Calculates cube root of a value.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns cube root in `value`

#### System.Math.Hypotenuse

Calculates sqrt(x² + y²) without intermediate overflow or underflow.

**Parameters:**

- `value` (EXPRESSION): Input value (numeric)

**Events:**

- `output`: Returns hypotenuse calculation in `value`

### Angle Conversion

#### System.Math.ToRadians

Converts degrees to radians.

**Parameters:**

- `value` (EXPRESSION): Angle in degrees (numeric)

**Events:**

- `output`: Returns angle in radians in `value`

#### System.Math.ToDegrees

Converts radians to degrees.

**Parameters:**

- `value` (EXPRESSION): Angle in radians (numeric)

**Events:**

- `output`: Returns angle in degrees in `value`

### Rounding Functions

#### System.Math.Round

Rounds a number to nearest integer.

**Parameters:**

- `value` (EXPRESSION): Value to round (numeric)

**Events:**

- `output`: Returns rounded value in `value`

#### System.Math.Floor

Rounds down to nearest integer.

**Parameters:**

- `value` (EXPRESSION): Value to floor (numeric)

**Events:**

- `output`: Returns floored value in `value`

#### System.Math.Ceiling

Rounds up to nearest integer.

**Parameters:**

- `value` (EXPRESSION): Value to ceil (numeric)

**Events:**

- `output`: Returns ceiling value in `value`

### Random Number Generation

#### System.Math.Random

Generates random number between 0 and 1.

**Parameters:** None

**Events:**

- `output`: Returns random value in `value`

#### System.Math.RandomInt

Generates random integer within range.

**Parameters:**

- `maxValue` (EXPRESSION): Maximum value (integer)
- `minValue` (EXPRESSION): Minimum value (integer)

**Events:**

- `output`: Returns random integer in `value`

#### System.Math.RandomDouble

Generates random double within range.

**Parameters:**

- `maxValue` (EXPRESSION): Maximum value (double)
- `minValue` (EXPRESSION): Minimum value (double)

**Events:**

- `output`: Returns random double in `value`

#### System.Math.RandomFloat

Generates random float within range.

**Parameters:**

- `maxValue` (EXPRESSION): Maximum value (float)
- `minValue` (EXPRESSION): Minimum value (float)

**Events:**

- `output`: Returns random float in `value`

#### System.Math.RandomLong

Generates random long integer within range.

**Parameters:**

- `maxValue` (EXPRESSION): Maximum value (long)
- `minValue` (EXPRESSION): Minimum value (long)

**Events:**

- `output`: Returns random long in `value`

## System.Object Functions

#### System.Object.ObjectKeys

Gets all keys from an object.

**Parameters:**

- `source` (EXPRESSION): Source object

**Events:**

- `output`: Returns array of keys in `value`

#### System.Object.ObjectValues

Gets all values from an object.

**Parameters:**

- `source` (EXPRESSION): Source object

**Events:**

- `output`: Returns array of values in `value`

#### System.Object.ObjectEntries

Gets key-value pairs from an object.

**Parameters:**

- `source` (EXPRESSION): Source object

**Events:**

- `output`: Returns array of [key, value] pairs in `value`

#### System.Object.ObjectPutValue

Sets a value in an object.

**Parameters:**

- `deleteKeyOnNull` (EXPRESSION): Whether to delete key if value is null (boolean)
- `key` (EXPRESSION): Key to set (string)
- `overwrite` (EXPRESSION): Whether to overwrite existing keys (boolean)
- `source` (EXPRESSION): Source object
- `value` (EXPRESSION): Value to set (any type)

**Events:**

- `output`: Returns modified object in `value`

#### System.Object.ObjectDeleteKey

Removes a key from an object.

**Parameters:**

- `key` (EXPRESSION): Key to remove (string)
- `source` (EXPRESSION): Source object

**Events:**

- `output`: Returns modified object in `value`

#### System.Object.ObjectConvert

Converts an object according to a schema and conversion mode.

**Parameters:**

- `conversionMode` (EXPRESSION): Conversion mode (string)
- `schema` (CONSTANT): Target schema for conversion (object)
- `source` (EXPRESSION): Object to convert

**Events:**

- `output`: Returns converted object in `value`

#### System.Object.ValidateSchema

Validates an object against a schema.

**Parameters:**

- `schema` (CONSTANT): Schema to validate against (object)
- `source` (EXPRESSION): Object to validate

**Events:**

- `output`: Returns validation result in `isvalid` (boolean)

## System.String Functions

### String Analysis

#### System.String.Length

Gets the length of a string.

**Parameters:**

- `string` (EXPRESSION): Input string

**Events:**

- `output`: Returns length in `result` (integer)

#### System.String.Contains

Checks if string contains a substring.

**Parameters:**

- `searchString` (EXPRESSION): String to search for
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.String.StartsWith

Checks if string starts with a substring.

**Parameters:**

- `searchString` (EXPRESSION): String to check for
- `string` (EXPRESSION): String to check

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.String.EndsWith

Checks if string ends with a substring.

**Parameters:**

- `searchString` (EXPRESSION): String to check for
- `string` (EXPRESSION): String to check

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.String.EqualsIgnoreCase

Compares two strings ignoring case differences.

**Parameters:**

- `searchString` (EXPRESSION): String to compare with
- `string` (EXPRESSION): String to compare

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.String.Matches

Checks if string matches a regular expression pattern.

**Parameters:**

- `regex` (EXPRESSION): Regular expression pattern
- `string` (EXPRESSION): String to test

**Events:**

- `output`: Returns match result in `result` (boolean)

#### System.String.RegionMatches

Compares a specific region of two strings.

**Parameters:**

- `boolean` (EXPRESSION): Whether to ignore case (boolean)
- `firstOffset` (EXPRESSION): Starting position in first string (integer)
- `length` (EXPRESSION): Length of region to compare (integer)
- `otherString` (EXPRESSION): Second string to compare
- `secondOffset` (EXPRESSION): Starting position in second string (integer)
- `string` (EXPRESSION): First string

**Events:**

- `output`: Returns comparison result in `result` (boolean)

#### System.String.IsEmpty

Checks if string is empty.

**Parameters:**

- `string` (EXPRESSION): String to check

**Events:**

- `output`: Returns result in `result` (boolean)

#### System.String.IsBlank

Checks if string is blank (empty or whitespace).

**Parameters:**

- `string` (EXPRESSION): String to check

**Events:**

- `output`: Returns result in `result` (boolean)

### String Search

#### System.String.IndexOf

Finds first occurrence of substring.

**Parameters:**

- `searchString` (EXPRESSION): String to search for
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.String.IndexOfWithStartPoint

Finds first occurrence of substring starting from a specific position.

**Parameters:**

- `index` (EXPRESSION): Starting search position (integer)
- `searchString` (EXPRESSION): String to search for
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.String.LastIndexOf

Finds last occurrence of substring.

**Parameters:**

- `searchString` (EXPRESSION): String to search for
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.String.LastIndexOfWithStartPoint

Finds last occurrence of substring starting from a specific position.

**Parameters:**

- `index` (EXPRESSION): Starting search position (integer)
- `searchString` (EXPRESSION): String to search for
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns index in `result` (integer, -1 if not found)

#### System.String.Frequency

Counts occurrences of substring.

**Parameters:**

- `searchString` (EXPRESSION): String to count
- `string` (EXPRESSION): String to search in

**Events:**

- `output`: Returns count in `result` (integer)

### String Manipulation

#### System.String.Concatenate

Concatenates multiple strings.

**Parameters:**

- `value` (EXPRESSION): Strings to concatenate (variadic)

**Events:**

- `output`: Returns concatenated string in `value`

#### System.String.SubString

Extracts substring from a string.

**Parameters:**

- `index` (EXPRESSION): Starting index (integer)
- `secondIndex` (EXPRESSION): Ending index (integer)
- `string` (EXPRESSION): Source string

**Events:**

- `output`: Returns substring in `result`

#### System.String.Replace

Replaces all occurrences of a substring.

**Parameters:**

- `secondString` (EXPRESSION): String to replace
- `string` (EXPRESSION): Source string
- `thirdString` (EXPRESSION): Replacement string

**Events:**

- `output`: Returns modified string in `result`

#### System.String.ReplaceFirst

Replaces first occurrence of a substring.

**Parameters:**

- `secondString` (EXPRESSION): String to replace
- `string` (EXPRESSION): Source string
- `thirdString` (EXPRESSION): Replacement string

**Events:**

- `output`: Returns modified string in `result`

#### System.String.ReplaceAtGivenPosition

Replaces characters at a specific position with a new string.

**Parameters:**

- `lengthPosition` (EXPRESSION): Length of text to replace (integer)
- `replaceString` (EXPRESSION): Replacement string
- `startPosition` (EXPRESSION): Starting position (integer)
- `string` (EXPRESSION): Source string

**Events:**

- `output`: Returns modified string in `result`

#### System.String.InsertAtGivenPosition

Inserts a string at a specific position.

**Parameters:**

- `insertString` (EXPRESSION): String to insert
- `position` (EXPRESSION): Position to insert at (integer)
- `string` (EXPRESSION): Source string

**Events:**

- `output`: Returns modified string in `result`

#### System.String.DeleteForGivenLength

Deletes characters from a string within a specified range.

**Parameters:**

- `endPosition` (EXPRESSION): End position (integer)
- `startPosition` (EXPRESSION): Start position (integer)
- `string` (EXPRESSION): Source string

**Events:**

- `output`: Returns modified string in `result`

#### System.String.Trim

Removes whitespace from both ends.

**Parameters:**

- `string` (EXPRESSION): String to trim

**Events:**

- `output`: Returns trimmed string in `result`

#### System.String.TrimStart

Removes whitespace from the beginning.

**Parameters:**

- `string` (EXPRESSION): String to trim

**Events:**

- `output`: Returns trimmed string in `result`

#### System.String.TrimEnd

Removes whitespace from the end.

**Parameters:**

- `string` (EXPRESSION): String to trim

**Events:**

- `output`: Returns trimmed string in `result`

#### System.String.TrimTo

Trims string to a specific length.

**Parameters:**

- `length` (EXPRESSION): Maximum length (integer)
- `string` (EXPRESSION): String to trim

**Events:**

- `output`: Returns trimmed string in `result`

#### System.String.PrePad

Pads string at the beginning to reach specified length.

**Parameters:**

- `length` (EXPRESSION): Target length (integer)
- `prepadString` (EXPRESSION): Padding string
- `string` (EXPRESSION): String to pad

**Events:**

- `output`: Returns padded string in `result`

#### System.String.PostPad

Pads string at the end to reach specified length.

**Parameters:**

- `length` (EXPRESSION): Target length (integer)
- `postpadString` (EXPRESSION): Padding string
- `string` (EXPRESSION): String to pad

**Events:**

- `output`: Returns padded string in `result`

### String Transformation

#### System.String.UpperCase

Converts string to uppercase.

**Parameters:**

- `string` (EXPRESSION): String to convert

**Events:**

- `output`: Returns uppercase string in `result`

#### System.String.LowerCase

Converts string to lowercase.

**Parameters:**

- `string` (EXPRESSION): String to convert

**Events:**

- `output`: Returns lowercase string in `result`

#### System.String.Reverse

Reverses a string.

**Parameters:**

- `value` (EXPRESSION): String to reverse

**Events:**

- `output`: Returns reversed string in `value`

#### System.String.Repeat

Repeats a string multiple times.

**Parameters:**

- `index` (EXPRESSION): Number of repetitions (integer)
- `string` (EXPRESSION): String to repeat

**Events:**

- `output`: Returns repeated string in `result`

#### System.String.Split

Splits string into array by delimiter.

**Parameters:**

- `searchString` (EXPRESSION): Delimiter string
- `string` (EXPRESSION): String to split

**Events:**

- `output`: Returns array of strings in `result`

#### System.String.ToString

Converts any value to string representation.

**Parameters:**

- `anytype` (EXPRESSION): Value to convert (any type)

**Events:**

- `output`: Returns string representation in `result`
